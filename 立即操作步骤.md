# 🚀 立即操作步骤

## ✅ 代码已准备好，已启用PostgreSQL支持

## 📋 在Render操作（按顺序）

### 第1步：创建PostgreSQL数据库

1. 登录 Render Dashboard
2. 点击 "New +" → "PostgreSQL"
3. 配置：
   - **Name**: telegram-bot-db
   - **Database**: railway（或任意名称）
   - **User**: postgres
   - **Region**: 选择离您最近的
4. 点击 "Create Database"
5. **复制 Internal Database URL**（重要！）

### 第2步：为Web服务添加DATABASE_URL

1. 进入现有的Web服务（telegram-bot-project）
2. Settings → Environment
3. 添加环境变量：
   ```
   Key: DATABASE_URL
   Value: (粘贴刚才复制的PostgreSQL URL)
   ```
4. 点击 "Save Changes"

### 第3步：创建Bot服务

1. 点击 "New +" → "Background Worker"
2. 选择 GitHub 仓库：telegram-bot-project
3. 配置：
   - **Name**: telegram-bot-worker
   - **Environment**: Python 3
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `python tg_bot_v2.py`
4. 添加环境变量：
   ```
   TELEGRAM_BOT_TOKEN = (您的Token)
   DEEPSEEK_API_KEY = (您的Key)
   ADMIN_GROUP_ID = (群组ID)
   DATABASE_URL = (粘贴PostgreSQL URL)
   ```
5. 点击 "Create Background Worker"

### 第4步：等待部署完成（约2-5分钟）

### 第5步：测试

1. 给Bot发送 /start
2. 访问Web后台
3. 刷新用户列表
4. ✅ 应该能看到新用户！

## 🎯 完成！

Bot和Web共享PostgreSQL数据库，数据实时同步！

---

需要帮助吗？告诉我进行到哪一步了。
