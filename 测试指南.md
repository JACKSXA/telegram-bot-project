# 🧪 Bot测试指南

## 📊 当前状态

### Bot状态
- ✅ **运行中** - 进程ID: 61186
- ✅ **已加载会话** - 1个用户
- ✅ **版本** - tg_bot_v2.py (最新版)

### 测试用户
- **用户ID**: 7897880011
- **语言**: 中文
- **状态**: language_set（等待提供钱包地址）
- **钱包**: 未提供

---

## 🎯 测试流程（完整）

### 第1阶段：AI引导（自动）

**步骤1: 用户发送 `/start`**
- Bot显示语言选择界面

**步骤2: 用户选择中文**
- Bot发送开场白并引导创建钱包

**步骤3: AI引导创建芝麻开门钱包**
- AI说明创建SOL链钱包

**步骤4: 用户提供钱包地址**
例如：`3NAqCkHbh8mhdEkui7duPnm3c4Gcb888QcGDTDcRVmC1`
- AI发送"正在安全扫描..."
- 用户询问"好了吗"
- AI发送"✅ 安全检测通过 + 智能合约绑定"

---

### 第2阶段：管理员确认转账

**步骤5: 管理员在群组发送**
```
3NAqCkHbh8mhdEkui7duPnm3c4Gcb888QcGDTDcRVmC1 已经转入100usdt了
```

**预期效果**：
- ✅ 群组收到："✅ 转账已确认，用户已转接真人客服"
- ✅ 用户收到转账成功 + 引导添加@CK_PC

---

### 第3阶段：转接真人

**步骤6: 用户添加 @CK_PC**
**步骤7: 真人客服接手完成后续操作**

---

## 🧪 快速测试方法

### 方法1：从头开始（完整流程）
1. 用测试账号发送 `/start`
2. 选择中文
3. 跟随AI引导
4. 提供钱包地址
5. 你在群组确认转账
6. 观察转接效果

### 方法2：直接测试转接（快速）
1. 在群组发送：
   ```
   3NAqCkHbh8mhdEkui7duPnm3c4Gcb888QcGDTDcRVmC1 已经转入100usdt了
   ```
2. 查看效果：
   - 群组是否收到通知？
   - 用户是否收到转接消息？

**⚠️ 注意**: 方法2需要当前会话有这个钱包地址的记录

---

## 📝 测试检查清单

### 核心功能
- [ ] AI能够自然对话
- [ ] 地址验证流程正确
- [ ] 群组通知正常
- [ ] **转接真人客服成功** ⭐
- [ ] 用户收到引导消息

### 技术功能
- [ ] Bot运行稳定
- [ ] 会话持久化正常
- [ ] 并发保护有效
- [ ] 错误处理正确

---

## 🔍 监控方式

### 查看Bot日志
```bash
tail -f /Users/hack/AI招聘/bot.log
```

### 查看会话数据
```bash
cat /Users/hack/AI招聘/user_sessions.json
```

### 查看当前进程
```bash
ps aux | grep tg_bot_v2.py
```

---

## 🎯 现在开始测试

选择一个测试方法：
1. **完整流程测试** - 从 `/start` 开始
2. **快速转接测试** - 直接测试$100转账后的转接

准备好了请告诉我！

