# Telegram Bot 启动指南

## ✅ 已完成的步骤

1. ✅ Telegram Bot Token 已配置
2. ✅ Python 程序已创建 (`tg_bot.py`)
3. ✅ 剧本文件已准备 (`演练记录-Web3诈骗剧本.md`)

---

## 📋 接下来需要做的

### 步骤1️⃣：获取 Claude API Key

1. 访问：https://console.anthropic.com/
2. 注册/登录账号
3. 创建 API Key
4. 复制 API Key（格式类似：`sk-ant-api03-...`）

---

### 步骤2️⃣：创建配置文件

在 `/Users/hack/AI招聘/` 目录下创建 `.env` 文件：

```bash
# 方法1：使用模板创建
cp env_config.txt .env

# 方法2：直接创建
nano .env
```

然后编辑 `.env` 文件，填入您的 Claude API Key：

```
TELEGRAM_BOT_TOKEN=7751111095:AAGy0YC7sVndtxboAaKYm1P_WPDsip9XVx0
CLAUDE_API_KEY=sk-ant-api03-您的实际API_Key
```

**重要**：请将 `您的实际API_Key` 替换为您从 Anthropic 获取的真实 API Key。

---

### 步骤3️⃣：安装依赖

```bash
cd /Users/hack/AI招聘
pip install -r requirements.txt
```

或者单独安装：

```bash
pip install python-telegram-bot==20.7 anthropic python-dotenv
```

---

### 步骤4️⃣：运行 Bot

```bash
python tg_bot.py
```

如果一切正常，您会看到：

```
==================================================
🚀 Web3反诈演练 Telegram Bot
==================================================
✅ 剧本文件加载成功
✅ Bot Token: 7751111095:AAGy0Y...
✅ Claude API Key: sk-ant-api03...
✅ Bot 启动成功！
📱 请在 Telegram 中找到您的 Bot 并发送 /start
--------------------------------------------------
```

---

### 步骤5️⃣：测试 Bot

1. 在 Telegram 中搜索您的 Bot
2. 发送 `/start` 命令
3. Bot 应该回复：

```
💥 Web3量化套利内部通道
→ 日化2-5个点稳定收益
→ 机构资金保驾护航
→ 新人首次合作送$100 USDT真实资金
→ 感兴趣了解一下吗？
```

4. 继续对话，Bot 会按照剧本进行演练

---

## 🎯 可用命令

在 Telegram 中可以使用以下命令：

- `/start` - 开始演练（从阶段一开始）
- `/reset` - 重置会话，重新开始
- `/status` - 查看当前会话状态
- `/help` - 显示帮助信息

---

## 🔧 故障排查

### 问题1：提示 "未找到 TELEGRAM_BOT_TOKEN"

**解决**：确保 `.env` 文件存在且格式正确

```bash
# 检查文件是否存在
ls -la .env

# 查看文件内容
cat .env
```

### 问题2：提示 "未找到 CLAUDE_API_KEY"

**解决**：检查 `.env` 文件中是否填入了正确的 Claude API Key

### 问题3：Bot 没有响应

**解决**：
1. 检查 Bot Token 是否正确
2. 检查网络连接
3. 查看终端错误日志

### 问题4：Claude API 错误

**解决**：
1. 确认 API Key 是否正确
2. 确认 API 额度是否充足
3. 检查网络是否能访问 Anthropic API

### 问题5：剧本文件加载失败

**解决**：确保 `演练记录-Web3诈骗剧本.md` 文件在同一目录

```bash
ls -la 演练记录-Web3诈骗剧本.md
```

---

## 📊 文件结构

```
/Users/hack/AI招聘/
├── tg_bot.py                          # 主程序
├── 演练记录-Web3诈骗剧本.md           # 剧本文件
├── requirements.txt                   # Python依赖
├── env_config.txt                     # 配置模板
├── .env                              # 配置文件（需要创建）
├── 启动指南.md                        # 本文件
└── tg_bot_implementation.md          # 详细技术文档
```

---

## 💰 成本估算

### Claude API 费用（Sonnet 4）
- 输入：$3 / 百万 tokens
- 输出：$15 / 百万 tokens

**每次完整演练约 5,000-10,000 tokens**
- 估算成本：$0.15 - $0.30 / 次
- 100次演练约：$15 - $30

### Telegram Bot
- 完全免费

---

## 🔒 安全提示

1. ❌ **不要将 `.env` 文件提交到 Git**
2. ❌ **不要泄露 API Key**
3. ✅ **定期更换 API Key**
4. ✅ **监控 API 使用量**

---

## 📞 需要帮助？

如果遇到问题：

1. 检查终端输出的错误信息
2. 查看 `tg_bot_implementation.md` 详细文档
3. 确认所有步骤都正确完成

---

## 🎉 开始使用

完成上述所有步骤后：

```bash
# 确保在正确的目录
cd /Users/hack/AI招聘

# 启动 Bot
python tg_bot.py
```

祝您演练顺利！🚀

