# Telegram Bot ç®¡ç†åå°é¡¹ç›®

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº Telegram Bot çš„é‡åŒ–äº¤æ˜“å®¢æˆ·æœåŠ¡ç³»ç»Ÿï¼ŒåŒ…å«ï¼š

1. **Telegram Bot** - ç”¨æˆ·äº¤äº’å‰ç«¯
   - å¤šè¯­è¨€æ”¯æŒï¼ˆä¸­æ–‡/è‹±æ–‡ï¼‰
   - é’±åŒ…ç»‘å®šå’ŒéªŒè¯
   - è‡ªåŠ¨çŠ¶æ€æµè½¬
   - å®¢æœæ¥å…¥è¯†åˆ«

2. **Web ç®¡ç†åå°** - Flask åå°ç®¡ç†
   - ç”¨æˆ·ç®¡ç†å’Œç›‘æ§
   - æ¶ˆæ¯æ¨é€åŠŸèƒ½
   - æ•°æ®åˆ†æç»Ÿè®¡
   - è½¬åŒ–æ¼æ–—è¿½è¸ª

## ğŸ›  æŠ€æœ¯æ ˆ

### åç«¯
- **Python 3.13+** - ä¸»ç¼–ç¨‹è¯­è¨€
- **Flask** - Web æ¡†æ¶ï¼ˆç®¡ç†åå°ï¼‰
- **python-telegram-bot** - Telegram Bot åº“
- **SQLite** - æœ¬åœ°æ•°æ®åº“
- **PostgreSQL** - äº‘ç«¯æ•°æ®åº“ï¼ˆRenderï¼‰

### å‰ç«¯
- **Tailwind CSS** - UI æ¡†æ¶
- **Alpine.js** - äº¤äº’å¢å¼º
- **FontAwesome** - å›¾æ ‡åº“
- **Jinja2** - æ¨¡æ¿å¼•æ“

## ğŸ“ é¡¹ç›®ç»“æ„

```
AIæ‹›è˜/
â”œâ”€â”€ tg_bot_v2.py              # Bot ä¸»ç¨‹åº
â”œâ”€â”€ database_manager.py        # æ•°æ®åº“ç®¡ç†å™¨
â”œâ”€â”€ admin_web/                 # Web åå°ç›®å½•
â”‚   â”œâ”€â”€ flask_app.py           # Flask åº”ç”¨
â”‚   â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â”‚   â”œâ”€â”€ templates/             # HTML æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ base_tailwind.html # åŸºç¡€æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ dashboard_tailwind.html # ä»ªè¡¨ç›˜
â”‚   â”‚   â”œâ”€â”€ users_tailwind.html # ç”¨æˆ·åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ analytics_tailwind.html # æ•°æ®åˆ†æ
â”‚   â”‚   â”œâ”€â”€ push_tailwind.html # æ¶ˆæ¯æ¨é€
â”‚   â”‚   â””â”€â”€ user_detail_tailwind.html # ç”¨æˆ·è¯¦æƒ…
â”‚   â””â”€â”€ static/                # é™æ€èµ„æºï¼ˆCSS/JSï¼‰
â”œâ”€â”€ tests/                      # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ logs/                       # æ—¥å¿—ç›®å½•
â”œâ”€â”€ user_data.db               # SQLite æ•°æ®åº“
â””â”€â”€ sessions.pkl               # Bot ä¼šè¯ç¼“å­˜ï¼ˆæ—§ï¼‰
```

## ğŸš€ éƒ¨ç½²è¯´æ˜

### æœ¬åœ°å¼€å‘

1. **ç¯å¢ƒå‡†å¤‡**
```bash
# å®‰è£…ä¾èµ–
pip install -r admin_web/requirements.txt

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
python3 -m venv venv
source venv/bin/activate  # Mac/Linux
venv\Scripts\activate     # Windows
```

2. **å¯åŠ¨ Bot**
```bash
python3 tg_bot_v2.py
```

3. **å¯åŠ¨ Web åå°**
```bash
cd admin_web
export FLASK_APP=flask_app.py
flask run --host=0.0.0.0 --port=5000
```

è®¿é—®: http://localhost:5000/login
- è´¦å·: `admin`
- å¯†ç : `admin123`

### äº‘ç«¯éƒ¨ç½²ï¼ˆRenderï¼‰

#### Bot éƒ¨ç½²
- Platform: Railway / Render
- å…¥å£: `tg_bot_v2.py`
- ç¯å¢ƒå˜é‡: `TELEGRAM_BOT_TOKEN`, `ADMIN_GROUP_ID`

#### Web åå°éƒ¨ç½²
- Platform: Render
- å…¥å£: `admin_web/flask_app.py`
- ç¯å¢ƒå˜é‡: `DATABASE_URL` (PostgreSQL)

## ğŸ”‘ æ ¸å¿ƒåŠŸèƒ½

### ç”¨æˆ·æµç¨‹
1. ç”¨æˆ·å‘é€ /start â†’ æ³¨å†Œ
2. å‘é€é’±åŒ…åœ°å€ â†’ é’±åŒ…ç»‘å®š
3. ç¾¤ç»„ç¡®è®¤è½¬è´¦ â†’ è½¬æ¥å®¢æœ
4. æ·»åŠ å®¢æœè´¦å· â†’ åç»­æœåŠ¡

### å…³é”®çŠ¶æ€
- `idle` - ç©ºé—²ï¼ˆåˆå§‹çŠ¶æ€ï¼‰
- `wallet_verified` - é’±åŒ…å·²éªŒè¯
- `bound_and_ready` - å·²ç»‘å®šå‡†å¤‡
- `waiting_customer_service` - ç­‰å¾…å®¢æœ
- `transfer_completed` - è½¬è´¦å®Œæˆ

### è½¬åŒ–æ¼æ–—
- **æ³¨å†Œç”¨æˆ·** â†’ ç”¨æˆ·æ€»æ•°
- **å·²ç»‘å®šé’±åŒ…** â†’ æœ‰é’±åŒ…åœ°å€çš„ç”¨æˆ·
- **ç­‰å¾…å®¢æœ** â†’ waiting_customer_service çŠ¶æ€
- **è½¬è´¦å®Œæˆ** â†’ transfer_completed = 1

## ğŸ“Š æ•°æ®åŒæ­¥

é¡¹ç›®ä½¿ç”¨ `database_manager.py` ç»Ÿä¸€ç®¡ç†æ•°æ®åº“ï¼š

- **SQLite** - æœ¬åœ°å¼€å‘ï¼ˆuser_data.dbï¼‰
- **PostgreSQL** - äº‘ç«¯éƒ¨ç½²ï¼ˆè‡ªåŠ¨æ£€æµ‹ DATABASE_URLï¼‰

Bot å’Œ Web åå°å…±äº«åŒä¸€ä¸ªæ•°æ®åº“ï¼Œç¡®ä¿æ•°æ®å®æ—¶åŒæ­¥ã€‚

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. ä¿®æ”¹ `tg_bot_v2.py` æ·»åŠ  Bot é€»è¾‘
2. ä¿®æ”¹ `admin_web/flask_app.py` æ·»åŠ è·¯ç”±
3. ä¿®æ”¹æˆ–æ–°å¢ `admin_web/templates/*.html` é¡µé¢
4. æµ‹è¯•æœ¬åœ°åŠŸèƒ½
5. æäº¤åˆ° GitHub
6. Render è‡ªåŠ¨éƒ¨ç½²

### è°ƒè¯•æŠ€å·§
```bash
# æŸ¥çœ‹ Bot æ—¥å¿—
tail -f logs/bot.log

# æŸ¥çœ‹ Flask æ—¥å¿—
tail -f logs/flask_app.log

# æŸ¥çœ‹æ•°æ®åº“
sqlite3 user_data.db "SELECT * FROM users LIMIT 10;"
```

## ğŸ“ é‡è¦æ–‡ä»¶è¯´æ˜

### tg_bot_v2.py
- Bot ä¸»ç¨‹åº
- å¤„ç†ç”¨æˆ·æ¶ˆæ¯å’ŒçŠ¶æ€æµè½¬
- é›†æˆå®¢æœæ¥å…¥è¯†åˆ«
- ä¸¥æ ¼ Solana åœ°å€éªŒè¯

### admin_web/flask_app.py
- Flask åº”ç”¨ä¸»å…¥å£
- ç”¨æˆ·ç®¡ç†ã€åˆ†æã€æ¨é€è·¯ç”±
- æ•°æ®åº“å®æ—¶ç»Ÿè®¡
- ä¼šè¯ç®¡ç†

### database_manager.py
- æ•°æ®åº“æŠ½è±¡å±‚
- æ”¯æŒ SQLite å’Œ PostgreSQL
- è‡ªåŠ¨åˆ›å»ºè¡¨å’Œç´¢å¼•
- æä¾›ç»Ÿä¸€çš„ CRUD æ¥å£

## ğŸ¯ å¼€å‘é‡Œç¨‹ç¢‘

### å·²å®Œæˆ âœ…
- [x] åŸºç¡€ Bot åŠŸèƒ½ï¼ˆå¤šè¯­è¨€ã€é’±åŒ…ç»‘å®šï¼‰
- [x] Web ç®¡ç†åå°ï¼ˆç”¨æˆ·åˆ—è¡¨ã€è¯¦æƒ…ã€åˆ†æï¼‰
- [x] æ¶ˆæ¯æ¨é€åŠŸèƒ½
- [x] è½¬åŒ–æ¼æ–—ç»Ÿè®¡
- [x] UI/UX å…¨é¢ä¼˜åŒ–ï¼ˆTailwind CSSï¼‰
- [x] å®¢æœæ¥å…¥è‡ªåŠ¨è¯†åˆ«
- [x] ä¸¥æ ¼ Solana åœ°å€éªŒè¯
- [x] æ‰¹é‡æ“ä½œï¼ˆæ›´æ–°ã€å‘é€ã€åˆ é™¤ï¼‰
- [x] é«˜çº§ç­›é€‰ï¼ˆæŒ‰æ—¥æœŸã€æ´»åŠ¨æ—¶é—´ï¼‰
- [x] Bot å¥åº·ç›‘æ§

### å¾…ä¼˜åŒ– ğŸ”„
- [ ] ç”¨æˆ·å¯¹è¯å†å²å®æ—¶åŒæ­¥
- [ ] ç¾¤ç»„æ¶ˆæ¯è‡ªåŠ¨å¤„ç†
- [ ] å¤šå¸ç§æ”¯æŒ
- [ ] æ•°æ®åˆ†ææŠ¥è¡¨å¯¼å‡º
- [ ] API æ¥å£æ–‡æ¡£

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **æ•°æ®åº“å¤‡ä»½**: å®šæœŸå¤‡ä»½ `user_data.db`
2. **ç¯å¢ƒå˜é‡**: äº‘ç«¯éƒ¨ç½²éœ€è¦é…ç½®æ‰€æœ‰ç¯å¢ƒå˜é‡
3. **æ—¥å¿—ç®¡ç†**: æ—¥å¿—æ–‡ä»¶è‡ªåŠ¨æ»šåŠ¨ï¼ˆ5MBï¼Œ5ä¸ªå¤‡ä»½ï¼‰
4. **æµ‹è¯•**: æ–°å¢åŠŸèƒ½å‰ç¼–å†™æµ‹è¯•ï¼ˆtests/ï¼‰

## ğŸ“ è”ç³»æ”¯æŒ

é¡¹ç›®åœ°å€: https://github.com/JACKSXA/telegram-bot-project
éƒ¨ç½²åœ°å€: Render (è‡ªåŠ¨éƒ¨ç½²)

---
**ç‰ˆæœ¬**: v1.0  
**æ›´æ–°æ—¥æœŸ**: 2025-10-28  
**ç»´æŠ¤è€…**: é¡¹ç›®å›¢é˜Ÿ
